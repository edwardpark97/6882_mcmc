import numpy as np
import matplotlib.pyplot as plt

def create_twostage_graph():
	# TWOSTAGE EXPERIMENTS
	a_values = [25, 50, 100, 200, 400, 800]
	stage1 = [0.4933103095991132, 0.5004416695097389, 0.5250006816810493, 0.5235559809545289, 0.539373545843072, 0.5656178866829019]
	stage2 = [0.1256666564176448, 0.1583981529023995, 0.23658292244702125, 0.2960614678024625, 0.336405592137026, 0.4166186498676749]
	runtime = [1078.2951107025146, 1110.8098561763763, 1194.8087124824524, 1243.695076227188, 1366.0374834537506, 1599.229983329773]

	overall_probs = np.array(stage1) * np.array(stage2)
	runtime = np.array(runtime)

	plt.title(r"Movement Prob vs. Runtime for TwoStage MH")
	plt.plot(runtime, overall_probs, 'ro')
	plt.xlabel("Runtime (s)")
	plt.ylabel("Overall Acceptance Prob")
	plt.yscale('log')
	plt.grid(which='both')

	plt.show()

def create_twostage_consensus_graph():
	# TWOSTAGE CONSENSUS EXPERIMENTS
	a_values = [25000, 50000, 100000, 200000, 400000]
	a25 = 0.4747198776398046 * 0.2630494739790234 * 0.4861585006258002 * 0.2497285382250225 * 0.5003724695619141 * 0.067107837219129 * 0.6209470969010319 * 0.2999147351556372
	a50 = 0.489444122460068 * 0.194001019186052 * 0.485077927827478 * 0.413064198699117 * 0.528880383183169 * 0.161410992106556 * 0.636588556105735 * 0.165072302846126
	a100 = 0.3837567425957481 * 0.2251021471767946 * 0.3869661294900969 * 0.2346037272613598 * 0.4242346827797313 * 0.2511783160993547 * 0.5651532652169317 * 0.3832116874117947
	a200 = 0.277921944545746 * 0.387378394849171 * 0.507745231919746 * 0.359054449603004 * 0.497744731770751 * 0.329298435207612 * 0.547544036216916 * 0.902967714184304
	a400 = 0.3274950968891525 * 0.9515793387220131 * 0.3745122840502662 * 0.9171741150827064 * 0.4072570279668914 * 0.8219715325683773 * 0.6254123206768055 * 0.9222163604053927
	runtime = [890.1595799922943, 971.321751594543, 961.3268551826477, 1197.530149936676, 1633.284071683883]

	a_values = np.array(a_values)
	overall_probs = np.power(np.array([a25, a50, a100, a200, a400]), .25)
	runtime = np.array(runtime)

	plt.title(r"Movement Prob vs. Runtime for TwoStage Consensus MH")
	plt.plot(runtime, overall_probs, 'ro')
	plt.xlabel("Runtime (s)")
	plt.ylabel("Overall Acceptance Prob")
	plt.yscale('log')
	plt.grid(which='both')

	plt.show()

if __name__ == "__main__":
	create_twostage_consensus_graph()
